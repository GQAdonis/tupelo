syntax = "proto3";

// extensions:
import "github.com/gogo/protobuf/gogoproto/gogo.proto";

option (gogoproto.sizer_all) = true;
option (gogoproto.populate_all) = true;
option (gogoproto.equal_all) = true;
option (gogoproto.unmarshaler_all) = true;
option (gogoproto.marshaler_all) = true;

package consensuspb;

message Signature {
    string creator = 1;
    bytes hash = 2;
    bytes signature = 3;
}

message UpdateBlock {
    string id = 1;
    bytes previous_hash = 2;
    bytes data = 3;
    repeated Signature signatures = 4;
}

message Ownership {
    repeated string owners = 1;
    uint64 minimum = 2;
}

message PublicKey {
    string id = 1;
    string type = 2;
    string owner = 3;
    string PublicKeyPem = 4;
    string PublicKeyBase64 = 5;
    bytes PublicKey = 6;
}

message Authentication {
    string type = 1;
    PublicKey public_key = 2;
}

message Did {
    bytes id = 1;
    repeated PublicKey public_key = 2;
    repeated Authentication authentication = 3;
}



//
//type PublicKey struct {
//Id string `json:"id"`
//Type string `json:"type"`
//Owner string `json:"owner"`
//PublicKeyPem string `json:"owner,omitempty",noms:",omitempty"`
//PublicKeyBase64 string `json:"publicKeyBase64,omitempty",noms:",omitempty"`
//}
//
//type Authentication struct {
//Type string `json:"type"`
//PublicKey string `json:"publicKey"`
//}
//
//type Service struct {
//Type string `json:"type"`
//ServiceEndpoint string `json:"serviceEndpoint"`
//InitialCapability string `json:"initialCapability,omitEmpty"`
//}
//
//
//type Did struct {
//Context string `json:"@context"`
//Id string `json:"id"`
//PublicKey []PublicKey `json:"publicKey"`
//Authentication []Authentication `json:"authentication"`
//Service []Service `json:"service"`
//}